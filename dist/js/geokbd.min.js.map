{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///geokbd.min.js","webpack:///webpack/bootstrap 268a40d5a53287c92119","webpack:///./src/index.ts","webpack:///./src/defaults.ts","webpack:///./src/themes/default.ts","webpack:///./src/themes/abstract.ts","webpack:///./src/keypress.ts"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","warn","message","console","typesMatch","arg1","arg2","_typeof","isSpecialKeyPressed","evt","metaKey","ctrlKey","altKey","isAlphabetKeyPressed","test","code","isGeorgianKeyPressed","key","isTextElement","el","type","stopEvent","preventDefault","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","defaults_1","default_1","keypress_1","GeoKBD","value","config","arguments","undefined","createMergedConfig","registerDefaultThemeIfRequired","initializeTheme","onKeydownHandler","bind","initialized","addEventListener","activeTheme","onAttach","removeEventListener","onDetach","keys","DEFAULT_CONFIG","map","configKey","defaultValue","toMergeWith","reduce","mergedConfig","keyValue","onConfigurationChange","theme","registerTheme","setConfig","enabled","hotkey","toggleEnabled","name","themes","set","ThemeClass","get","Map","DEFAULT_THEME","DEFAULT_HOTKEY","DEFAULT_ENABLED","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","createDivWithHtml","html","document","createElement","innerHTML","debounce","fn","wait","timeout","context","args","later","apply","clearTimeout","setTimeout","abstract_1","TEXT_ENABLED","TEXT_DISABLED","CLASSNAME","CLASSNAME_STATE","CLASSNAME_HOTKEY","CLASSNAME_HIDDEN","CLASSNAME_VISIBLE","TEMPLATE","join","DefaultTheme","_abstract_1$default","_this","getPrototypeOf","setVisibility","isVisible","Element","className","handleFocusEvent","handleBlurEvent","state","querySelector","setHotkeyText","setEnabledText","body","appendChild","remove","isEnabled","AbstractTheme","convertChar","charIndex","char","String","fromCharCode","ALPHABET","indexOf","BASE_INDEX","isSelectionSupported","selectionStart","selectionEnd","getInputSelection","start","end","setInputSelection","offset","blur","focus","dispatchCustomKeypressEvent","charCode","customEvent","KeyboardEvent","location","repeat","dispatchEvent","handleKeypress","charCodeAt","mappedCharCode","sel","val","slice"],"mappings":"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","file":"geokbd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"geokbd\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"geokbd\"] = factory();\n\telse\n\t\troot[\"geokbd\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"geokbd\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"geokbd\"] = factory();\n\telse\n\t\troot[\"geokbd\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaults_1 = __webpack_require__(1);\n\tvar default_1 = __webpack_require__(2);\n\tvar keypress_1 = __webpack_require__(4);\n\t\n\tvar GeoKBD = function () {\n\t    function GeoKBD() {\n\t        _classCallCheck(this, GeoKBD);\n\t    }\n\t\n\t    _createClass(GeoKBD, null, [{\n\t        key: \"initialize\",\n\t        value: function initialize() {\n\t            var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            this.createMergedConfig(config);\n\t            this.registerDefaultThemeIfRequired();\n\t            this.initializeTheme();\n\t            this.onKeydownHandler = this.onKeydownHandler.bind(this);\n\t            this.initialized = true;\n\t        }\n\t    }, {\n\t        key: \"attach\",\n\t        value: function attach(target) {\n\t            if (!this.initialized) {\n\t                warn(\"attach() can't be called until initialize().\");\n\t                return false;\n\t            }\n\t            if (!isTextElement(target)) {\n\t                warn('only works for <input> and <textarea> elements.');\n\t                return false;\n\t            }\n\t            target.addEventListener('keydown', this.onKeydownHandler);\n\t            if (this.activeTheme) {\n\t                this.activeTheme.onAttach(target);\n\t            }\n\t            return target;\n\t        }\n\t    }, {\n\t        key: \"detach\",\n\t        value: function detach(target) {\n\t            target.removeEventListener('keydown', this.onKeydownHandler);\n\t            if (this.activeTheme) {\n\t                this.activeTheme.onDetach(target);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"createMergedConfig\",\n\t        value: function createMergedConfig(config) {\n\t            this.config = Object.keys(defaults_1.DEFAULT_CONFIG).map(function (configKey) {\n\t                var defaultValue = defaults_1.DEFAULT_CONFIG[configKey];\n\t                var toMergeWith = config[configKey];\n\t                return {\n\t                    key: configKey,\n\t                    value: typesMatch(defaultValue, toMergeWith) ? toMergeWith : defaultValue\n\t                };\n\t            }).reduce(function (mergedConfig, keyValue) {\n\t                mergedConfig[keyValue.key] = keyValue.value;\n\t                return mergedConfig;\n\t            }, {});\n\t        }\n\t    }, {\n\t        key: \"setConfig\",\n\t        value: function setConfig(key, value) {\n\t            if (typesMatch(this.config[key], value)) {\n\t                this.config[key] = value;\n\t                if (this.activeTheme) {\n\t                    this.activeTheme.onConfigurationChange(this.config);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: \"registerDefaultThemeIfRequired\",\n\t        value: function registerDefaultThemeIfRequired() {\n\t            if (this.config.theme === 'default') {\n\t                this.registerTheme('default', default_1.default);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"toggleEnabled\",\n\t        value: function toggleEnabled() {\n\t            this.setConfig('enabled', !this.config.enabled);\n\t        }\n\t    }, {\n\t        key: \"onKeydownHandler\",\n\t        value: function onKeydownHandler(evt) {\n\t            if (isSpecialKeyPressed(evt)) {\n\t                return;\n\t            }\n\t            if (this.config.hotkey === evt.key) {\n\t                this.toggleEnabled();\n\t                stopEvent(evt);\n\t                return;\n\t            }\n\t            if (!this.config.enabled || !isAlphabetKeyPressed(evt) || isGeorgianKeyPressed(evt)) {\n\t                return;\n\t            }\n\t            stopEvent(evt);\n\t            keypress_1.default(evt);\n\t        }\n\t    }, {\n\t        key: \"registerTheme\",\n\t        value: function registerTheme(name, theme) {\n\t            this.themes.set(name, theme);\n\t        }\n\t    }, {\n\t        key: \"initializeTheme\",\n\t        value: function initializeTheme() {\n\t            var ThemeClass = this.themes.get(this.config.theme);\n\t            if (typeof ThemeClass !== 'function') {\n\t                warn(\"Can't instantiate theme.\");\n\t                return;\n\t            }\n\t            this.activeTheme = new ThemeClass(this.config);\n\t        }\n\t    }]);\n\t\n\t    return GeoKBD;\n\t}();\n\t\n\tGeoKBD.initialized = false;\n\tGeoKBD.themes = new Map();\n\tfunction warn(message) {\n\t    console.warn('[geokbd] - ' + message);\n\t}\n\tfunction typesMatch(arg1, arg2) {\n\t    return (typeof arg1 === \"undefined\" ? \"undefined\" : _typeof(arg1)) === (typeof arg2 === \"undefined\" ? \"undefined\" : _typeof(arg2));\n\t}\n\tfunction isSpecialKeyPressed(evt) {\n\t    return evt.metaKey || evt.ctrlKey || evt.altKey;\n\t}\n\tfunction isAlphabetKeyPressed(evt) {\n\t    return (/^Key[A-Z]$/.test(evt.code)\n\t    );\n\t}\n\tfunction isGeorgianKeyPressed(evt) {\n\t    return (/^[ა-ჰ]+$/.test(evt.key)\n\t    );\n\t}\n\tfunction isTextElement(el) {\n\t    return (/(text)(area)?/.test(el.type)\n\t    );\n\t}\n\tfunction stopEvent(evt) {\n\t    evt.preventDefault();\n\t}\n\tmodule.exports = GeoKBD;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.DEFAULT_THEME = 'default';\n\texports.DEFAULT_HOTKEY = '~';\n\texports.DEFAULT_ENABLED = true;\n\texports.DEFAULT_CONFIG = {\n\t    theme: exports.DEFAULT_THEME,\n\t    hotkey: exports.DEFAULT_HOTKEY,\n\t    enabled: exports.DEFAULT_ENABLED\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar abstract_1 = __webpack_require__(3);\n\tvar TEXT_ENABLED = 'ჩართულია';\n\tvar TEXT_DISABLED = 'გამორთულია';\n\tvar CLASSNAME = 'geokbd--statusMessage';\n\tvar CLASSNAME_STATE = CLASSNAME + '-state';\n\tvar CLASSNAME_HOTKEY = CLASSNAME + '-hotkey';\n\tvar CLASSNAME_HIDDEN = CLASSNAME + ' geokbd--hidden';\n\tvar CLASSNAME_VISIBLE = CLASSNAME + ' geokbd--visible';\n\tvar TEMPLATE = ['<div class=\"' + CLASSNAME + '-text\">', 'ქართული კლავიატურა: <u class=\"' + CLASSNAME_STATE + '\"></u><br>', 'ჩართვა/გამორთვა კლავიშით (\\'<span class=\"' + CLASSNAME_HOTKEY + '\"></span>\\')', '</div>'].join('');\n\t\n\tvar DefaultTheme = function (_abstract_1$default) {\n\t    _inherits(DefaultTheme, _abstract_1$default);\n\t\n\t    function DefaultTheme(config) {\n\t        _classCallCheck(this, DefaultTheme);\n\t\n\t        var _this = _possibleConstructorReturn(this, (DefaultTheme.__proto__ || Object.getPrototypeOf(DefaultTheme)).call(this, config));\n\t\n\t        _this.setVisibility = debounce(function (isVisible) {\n\t            if (this.root instanceof Element) {\n\t                this.root.className = isVisible ? CLASSNAME_VISIBLE : CLASSNAME_HIDDEN;\n\t            }\n\t        }, 100);\n\t        _this.handleFocusEvent = _this.handleFocusEvent.bind(_this);\n\t        _this.handleBlurEvent = _this.handleBlurEvent.bind(_this);\n\t        _this.root = createDivWithHtml(TEMPLATE);\n\t        _this.state = _this.root.querySelector('.' + CLASSNAME_STATE);\n\t        _this.hotkey = _this.root.querySelector('.' + CLASSNAME_HOTKEY);\n\t        _this.root.className = CLASSNAME;\n\t        _this.setHotkeyText(config.hotkey);\n\t        _this.setEnabledText(config.enabled);\n\t        document.body.appendChild(_this.root);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(DefaultTheme, [{\n\t        key: \"onAttach\",\n\t        value: function onAttach(target) {\n\t            target.addEventListener('focus', this.handleFocusEvent);\n\t            target.addEventListener('blur', this.handleBlurEvent);\n\t        }\n\t    }, {\n\t        key: \"onConfigurationChange\",\n\t        value: function onConfigurationChange(config) {\n\t            this.setHotkeyText(config.hotkey);\n\t            this.setEnabledText(config.enabled);\n\t        }\n\t    }, {\n\t        key: \"onDetach\",\n\t        value: function onDetach(target) {\n\t            target.removeEventListener('focus', this.handleFocusEvent);\n\t            target.removeEventListener('blur', this.handleBlurEvent);\n\t        }\n\t    }, {\n\t        key: \"onDestroy\",\n\t        value: function onDestroy() {\n\t            if (this.root instanceof Element) {\n\t                this.root.remove();\n\t            }\n\t            this.root = undefined;\n\t            this.state = undefined;\n\t            this.hotkey = undefined;\n\t        }\n\t    }, {\n\t        key: \"handleFocusEvent\",\n\t        value: function handleFocusEvent() {\n\t            this.setVisibility(true);\n\t        }\n\t    }, {\n\t        key: \"handleBlurEvent\",\n\t        value: function handleBlurEvent() {\n\t            this.setVisibility(false);\n\t        }\n\t    }, {\n\t        key: \"setHotkeyText\",\n\t        value: function setHotkeyText(hotkey) {\n\t            if (this.hotkey instanceof Element) {\n\t                this.hotkey.innerHTML = hotkey;\n\t            }\n\t        }\n\t    }, {\n\t        key: \"setEnabledText\",\n\t        value: function setEnabledText(isEnabled) {\n\t            if (this.state instanceof Element) {\n\t                this.state.innerHTML = isEnabled ? TEXT_ENABLED : TEXT_DISABLED;\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return DefaultTheme;\n\t}(abstract_1.default);\n\t\n\tfunction createDivWithHtml(html) {\n\t    var el = void 0;\n\t    el = document.createElement('div');\n\t    el.innerHTML = html;\n\t    return el;\n\t}\n\tfunction debounce(fn, wait) {\n\t    var timeout = void 0;\n\t    return function () {\n\t        var context = this;\n\t        var args = arguments;\n\t        var later = function later() {\n\t            fn.apply(context, args);\n\t        };\n\t        clearTimeout(timeout);\n\t        timeout = setTimeout(later, wait);\n\t    };\n\t}\n\texports.default = DefaultTheme;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t\n\tvar AbstractTheme = function AbstractTheme(config) {\n\t    _classCallCheck(this, AbstractTheme);\n\t};\n\t\n\texports.default = AbstractTheme;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar ALPHABET = 'abgdevzTiklmnopJrstufqRySCcZwWxjh';\n\tvar BASE_INDEX = 4304;\n\tfunction convertChar(charIndex) {\n\t    var char = String.fromCharCode(charIndex);\n\t    if (ALPHABET.indexOf(char) >= 0) {\n\t        return BASE_INDEX + ALPHABET.indexOf(char);\n\t    }\n\t    return charIndex;\n\t}\n\tfunction isSelectionSupported(el) {\n\t    return typeof el.selectionStart === 'number' && typeof el.selectionEnd === 'number';\n\t}\n\tfunction getInputSelection(el) {\n\t    var start = 0;\n\t    var end = 0;\n\t    if (isSelectionSupported(el)) {\n\t        start = el.selectionStart;\n\t        end = el.selectionEnd;\n\t    }\n\t    return { start: start, end: end };\n\t}\n\tfunction setInputSelection(el, offset) {\n\t    if (isSelectionSupported(el)) {\n\t        el.selectionStart = offset.start;\n\t        el.selectionEnd = offset.end;\n\t    }\n\t    // A little 'hack' to keep natural browser behavior while typing\n\t    el.blur();\n\t    el.focus();\n\t}\n\tfunction dispatchCustomKeypressEvent(evt, charCode) {\n\t    var customEvent = new KeyboardEvent('keypress', {\n\t        key: String.fromCharCode(charCode),\n\t        // keyCode: charCode,\n\t        // charCode: charCode,\n\t        code: evt.code,\n\t        location: evt.location,\n\t        repeat: evt.repeat\n\t    });\n\t    evt.target.dispatchEvent(customEvent);\n\t}\n\tfunction handleKeypress(evt) {\n\t    var el = evt.target;\n\t    var charCode = evt.key.charCodeAt(0);\n\t    var mappedCharCode = convertChar(charCode);\n\t    // Don't take any action if conversion didn't happen\n\t    if (charCode === mappedCharCode) {\n\t        return;\n\t    }\n\t    // Insert converted char\n\t    var sel = getInputSelection(el);\n\t    var val = el.value;\n\t    el.value = val.slice(0, sel.start) + String.fromCharCode(mappedCharCode) + val.slice(sel.end);\n\t    // Move caret to correct position\n\t    setInputSelection(el, { start: sel.start + 1, end: sel.start + 1 });\n\t    dispatchCustomKeypressEvent(evt, mappedCharCode);\n\t}\n\texports.default = handleKeypress;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** geokbd.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 268a40d5a53287c92119\n **/","\"use strict\";\nconst defaults_1 = require(\"./defaults\");\nconst default_1 = require(\"./themes/default\");\nconst keypress_1 = require(\"./keypress\");\nclass GeoKBD {\n    static initialize(config = {}) {\n        this.createMergedConfig(config);\n        this.registerDefaultThemeIfRequired();\n        this.initializeTheme();\n        this.onKeydownHandler = this.onKeydownHandler.bind(this);\n        this.initialized = true;\n    }\n    static attach(target) {\n        if (!this.initialized) {\n            warn(\"attach() can't be called until initialize().\");\n            return false;\n        }\n        if (!isTextElement(target)) {\n            warn('only works for <input> and <textarea> elements.');\n            return false;\n        }\n        target.addEventListener('keydown', this.onKeydownHandler);\n        if (this.activeTheme) {\n            this.activeTheme.onAttach(target);\n        }\n        return target;\n    }\n    static detach(target) {\n        target.removeEventListener('keydown', this.onKeydownHandler);\n        if (this.activeTheme) {\n            this.activeTheme.onDetach(target);\n        }\n    }\n    static createMergedConfig(config) {\n        this.config = Object.keys(defaults_1.DEFAULT_CONFIG)\n            .map(configKey => {\n            let defaultValue = defaults_1.DEFAULT_CONFIG[configKey];\n            let toMergeWith = config[configKey];\n            return {\n                key: configKey,\n                value: typesMatch(defaultValue, toMergeWith)\n                    ? toMergeWith\n                    : defaultValue\n            };\n        })\n            .reduce((mergedConfig, keyValue) => {\n            mergedConfig[keyValue.key] = keyValue.value;\n            return mergedConfig;\n        }, {});\n    }\n    static setConfig(key, value) {\n        if (typesMatch(this.config[key], value)) {\n            this.config[key] = value;\n            if (this.activeTheme) {\n                this.activeTheme.onConfigurationChange(this.config);\n            }\n        }\n    }\n    static registerDefaultThemeIfRequired() {\n        if (this.config.theme === 'default') {\n            this.registerTheme('default', default_1.default);\n        }\n    }\n    static toggleEnabled() {\n        this.setConfig('enabled', !this.config.enabled);\n    }\n    static onKeydownHandler(evt) {\n        if (isSpecialKeyPressed(evt)) {\n            return;\n        }\n        if (this.config.hotkey === evt.key) {\n            this.toggleEnabled();\n            stopEvent(evt);\n            return;\n        }\n        if (!this.config.enabled ||\n            !isAlphabetKeyPressed(evt) ||\n            isGeorgianKeyPressed(evt)) {\n            return;\n        }\n        stopEvent(evt);\n        keypress_1.default(evt);\n    }\n    static registerTheme(name, theme) {\n        this.themes.set(name, theme);\n    }\n    static initializeTheme() {\n        const ThemeClass = this.themes.get(this.config.theme);\n        if (typeof ThemeClass !== 'function') {\n            warn(\"Can't instantiate theme.\");\n            return;\n        }\n        this.activeTheme = new ThemeClass(this.config);\n    }\n}\nGeoKBD.initialized = false;\nGeoKBD.themes = new Map();\nfunction warn(message) {\n    console.warn('[geokbd] - ' + message);\n}\nfunction typesMatch(arg1, arg2) {\n    return typeof arg1 === typeof arg2;\n}\nfunction isSpecialKeyPressed(evt) {\n    return evt.metaKey || evt.ctrlKey || evt.altKey;\n}\nfunction isAlphabetKeyPressed(evt) {\n    return /^Key[A-Z]$/.test(evt.code);\n}\nfunction isGeorgianKeyPressed(evt) {\n    return /^[ა-ჰ]+$/.test(evt.key);\n}\nfunction isTextElement(el) {\n    return /(text)(area)?/.test(el.type);\n}\nfunction stopEvent(evt) {\n    evt.preventDefault();\n}\nmodule.exports = GeoKBD;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/index.ts\n **/","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_THEME = 'default';\nexports.DEFAULT_HOTKEY = '~';\nexports.DEFAULT_ENABLED = true;\nexports.DEFAULT_CONFIG = {\n    theme: exports.DEFAULT_THEME,\n    hotkey: exports.DEFAULT_HOTKEY,\n    enabled: exports.DEFAULT_ENABLED\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/defaults.ts\n **/","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abstract_1 = require(\"./abstract\");\nconst TEXT_ENABLED = 'ჩართულია';\nconst TEXT_DISABLED = 'გამორთულია';\nconst CLASSNAME = 'geokbd--statusMessage';\nconst CLASSNAME_STATE = CLASSNAME + '-state';\nconst CLASSNAME_HOTKEY = CLASSNAME + '-hotkey';\nconst CLASSNAME_HIDDEN = CLASSNAME + ' geokbd--hidden';\nconst CLASSNAME_VISIBLE = CLASSNAME + ' geokbd--visible';\nconst TEMPLATE = [\n    '<div class=\"' + CLASSNAME + '-text\">',\n    'ქართული კლავიატურა: <u class=\"' + CLASSNAME_STATE + '\"></u><br>',\n    'ჩართვა/გამორთვა კლავიშით (\\'<span class=\"' +\n        CLASSNAME_HOTKEY +\n        '\"></span>\\')',\n    '</div>'\n].join('');\nclass DefaultTheme extends abstract_1.default {\n    constructor(config) {\n        super(config);\n        this.setVisibility = debounce(function (isVisible) {\n            if (this.root instanceof Element) {\n                this.root.className = isVisible ? CLASSNAME_VISIBLE : CLASSNAME_HIDDEN;\n            }\n        }, 100);\n        this.handleFocusEvent = this.handleFocusEvent.bind(this);\n        this.handleBlurEvent = this.handleBlurEvent.bind(this);\n        this.root = createDivWithHtml(TEMPLATE);\n        this.state = this.root.querySelector('.' + CLASSNAME_STATE);\n        this.hotkey = this.root.querySelector('.' + CLASSNAME_HOTKEY);\n        this.root.className = CLASSNAME;\n        this.setHotkeyText(config.hotkey);\n        this.setEnabledText(config.enabled);\n        document.body.appendChild(this.root);\n    }\n    onAttach(target) {\n        target.addEventListener('focus', this.handleFocusEvent);\n        target.addEventListener('blur', this.handleBlurEvent);\n    }\n    onConfigurationChange(config) {\n        this.setHotkeyText(config.hotkey);\n        this.setEnabledText(config.enabled);\n    }\n    onDetach(target) {\n        target.removeEventListener('focus', this.handleFocusEvent);\n        target.removeEventListener('blur', this.handleBlurEvent);\n    }\n    onDestroy() {\n        if (this.root instanceof Element) {\n            this.root.remove();\n        }\n        this.root = undefined;\n        this.state = undefined;\n        this.hotkey = undefined;\n    }\n    handleFocusEvent() {\n        this.setVisibility(true);\n    }\n    handleBlurEvent() {\n        this.setVisibility(false);\n    }\n    setHotkeyText(hotkey) {\n        if (this.hotkey instanceof Element) {\n            this.hotkey.innerHTML = hotkey;\n        }\n    }\n    setEnabledText(isEnabled) {\n        if (this.state instanceof Element) {\n            this.state.innerHTML = isEnabled ? TEXT_ENABLED : TEXT_DISABLED;\n        }\n    }\n}\nfunction createDivWithHtml(html) {\n    let el;\n    el = document.createElement('div');\n    el.innerHTML = html;\n    return el;\n}\nfunction debounce(fn, wait) {\n    let timeout;\n    return function () {\n        const context = this;\n        const args = arguments;\n        const later = function () {\n            fn.apply(context, args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\nexports.default = DefaultTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/themes/default.ts\n **/","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass AbstractTheme {\n    constructor(config) { }\n}\nexports.default = AbstractTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/themes/abstract.ts\n **/","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ALPHABET = 'abgdevzTiklmnopJrstufqRySCcZwWxjh';\nconst BASE_INDEX = 4304;\nfunction convertChar(charIndex) {\n    const char = String.fromCharCode(charIndex);\n    if (ALPHABET.indexOf(char) >= 0) {\n        return BASE_INDEX + ALPHABET.indexOf(char);\n    }\n    return charIndex;\n}\nfunction isSelectionSupported(el) {\n    return (typeof el.selectionStart === 'number' && typeof el.selectionEnd === 'number');\n}\nfunction getInputSelection(el) {\n    let start = 0;\n    let end = 0;\n    if (isSelectionSupported(el)) {\n        start = el.selectionStart;\n        end = el.selectionEnd;\n    }\n    return { start, end };\n}\nfunction setInputSelection(el, offset) {\n    if (isSelectionSupported(el)) {\n        el.selectionStart = offset.start;\n        el.selectionEnd = offset.end;\n    }\n    // A little 'hack' to keep natural browser behavior while typing\n    el.blur();\n    el.focus();\n}\nfunction dispatchCustomKeypressEvent(evt, charCode) {\n    const customEvent = new KeyboardEvent('keypress', {\n        key: String.fromCharCode(charCode),\n        // keyCode: charCode,\n        // charCode: charCode,\n        code: evt.code,\n        location: evt.location,\n        repeat: evt.repeat\n    });\n    evt.target.dispatchEvent(customEvent);\n}\nfunction handleKeypress(evt) {\n    const el = evt.target;\n    const charCode = evt.key.charCodeAt(0);\n    const mappedCharCode = convertChar(charCode);\n    // Don't take any action if conversion didn't happen\n    if (charCode === mappedCharCode) {\n        return;\n    }\n    // Insert converted char\n    const sel = getInputSelection(el);\n    const val = el.value;\n    el.value =\n        val.slice(0, sel.start) +\n            String.fromCharCode(mappedCharCode) +\n            val.slice(sel.end);\n    // Move caret to correct position\n    setInputSelection(el, { start: sel.start + 1, end: sel.start + 1 });\n    dispatchCustomKeypressEvent(evt, mappedCharCode);\n}\nexports.default = handleKeypress;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/keypress.ts\n **/"],"sourceRoot":""}