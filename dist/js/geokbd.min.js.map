{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///geokbd.min.js","webpack:///webpack/bootstrap 4605bf7088516196bc8a","webpack:///./src/index.ts","webpack:///./src/defaults.ts","webpack:///./src/themes/abstract.ts","webpack:///./src/themes/default.ts","webpack:///./src/keypress.ts"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","warn","message","console","toCallOrNotToCall","fn","args","_i","arguments","length","apply","isEventProcessable","evt","isSpecialKeyPressed","isInEnglishAlphabetRange","keyCode","key","charCodeAt","metaKey","ctrlKey","altKey","charCode","stopEvent","preventDefault","mergeWithDefaultConfig","mergeFrom","merged","Object","keys","defaults_1","DEFAULT_CONFIG","reduce","mergedConfig","propName","hasOwnProperty","abstract_1","default_1","keypress_1","GeoKBD","initialize","config","createReactiveConfig","registerDefaultThemeIfRequired","initializeTheme","onKeydownHandler","bind","onKeyupHandler","initialized","attach","target","HTMLInputElement","HTMLTextAreaElement","addEventListener","activeTheme","onAttach","detach","removeEventListener","onDetach","_this","shadowConfig","forEach","defineProperty","get","set","newValue","onConfigurationChange","theme","registerTheme","enabled","hotkey","elementConfig","beforeChange","afterChange","name","themes","themeClass","value","DEFAULT_THEME","DEFAULT_HOTKEY","DEFAULT_ENABLED","AbstractTheme","createDivWithHtml","html","el","document","createElement","innerHTML","debounce","wait","timeout","context","later","clearTimeout","setTimeout","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","__","constructor","prototype","create","TEXT_ENABLED","TEXT_DISABLED","CLASSNAME","CLASSNAME_STATE","CLASSNAME_HOTKEY","CLASSNAME_HIDDEN","CLASSNAME_VISIBLE","TEMPLATE","join","DefaultTheme","_super","setVisibility","isVisible","Element","className","handleFocusEvent","handleBlurEvent","state","querySelector","setHotkeyText","setEnabledText","body","appendChild","onDestroy","remove","undefined","isEnabled","convertChar","charIndex","char","String","fromCharCode","ALPHABET","indexOf","BASE_INDEX","isSelectionSupported","selectionStart","selectionEnd","getInputSelection","start","end","setInputSelection","offset","blur","focus","dispatchCustomKeypressEvent","customEvent","KeyboardEvent","code","location","repeat","dispatchEvent","handleKeypress","mappedCharCode","sel","val","slice"],"mappings":"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","file":"geokbd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"geokbd\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"geokbd\"] = factory();\n\telse\n\t\troot[\"geokbd\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"geokbd\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"geokbd\"] = factory();\n\telse\n\t\troot[\"geokbd\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar defaults_1 = __webpack_require__(1);\n\tvar abstract_1 = __webpack_require__(2);\n\tvar default_1 = __webpack_require__(3);\n\tvar keypress_1 = __webpack_require__(4);\n\tvar GeoKBD = function () {\n\t    function GeoKBD() {}\n\t    GeoKBD.initialize = function (config) {\n\t        if (config === void 0) {\n\t            config = {};\n\t        }\n\t        this.createReactiveConfig(mergeWithDefaultConfig(config));\n\t        this.registerDefaultThemeIfRequired();\n\t        this.initializeTheme();\n\t        this.onKeydownHandler = this.onKeydownHandler.bind(this);\n\t        this.onKeyupHandler = this.onKeyupHandler.bind(this);\n\t        this.initialized = true;\n\t    };\n\t    GeoKBD.attach = function (target, config) {\n\t        if (!this.initialized) {\n\t            warn(\"attach() can't be called until initialize().\");\n\t            return;\n\t        }\n\t        if (!(target instanceof HTMLInputElement) && !(target instanceof HTMLTextAreaElement)) {\n\t            warn('only works for <input> and <textarea> elements.');\n\t            return;\n\t        }\n\t        target.GeoKBD = config;\n\t        target.addEventListener('keydown', this.onKeydownHandler);\n\t        target.addEventListener('keyup', this.onKeyupHandler);\n\t        if (GeoKBD.activeTheme) {\n\t            GeoKBD.activeTheme.onAttach(target);\n\t        }\n\t    };\n\t    GeoKBD.detach = function (target) {\n\t        delete target.GeoKBD;\n\t        target.removeEventListener('keydown', this.onKeydownHandler);\n\t        target.removeEventListener('keyup', this.onKeyupHandler);\n\t        if (GeoKBD.activeTheme) {\n\t            GeoKBD.activeTheme.onDetach(target);\n\t        }\n\t    };\n\t    GeoKBD.createReactiveConfig = function (config) {\n\t        var _this = this;\n\t        this.shadowConfig = config;\n\t        Object.keys(defaults_1.DEFAULT_CONFIG).forEach(function (propName) {\n\t            Object.defineProperty(_this.config, propName, {\n\t                get: function get() {\n\t                    return GeoKBD.shadowConfig[propName];\n\t                },\n\t                set: function set(newValue) {\n\t                    GeoKBD.shadowConfig[propName] = newValue;\n\t                    if (GeoKBD.activeTheme instanceof abstract_1.default) {\n\t                        GeoKBD.activeTheme.onConfigurationChange(GeoKBD.config);\n\t                    }\n\t                }\n\t            });\n\t        });\n\t    };\n\t    GeoKBD.registerDefaultThemeIfRequired = function () {\n\t        if (this.config.theme === 'default') {\n\t            this.registerTheme('default', default_1.default);\n\t        }\n\t    };\n\t    GeoKBD.onKeydownHandler = function (evt) {\n\t        if (isSpecialKeyPressed(evt)) {\n\t            return;\n\t        }\n\t        if (this.config.enabled && isInEnglishAlphabetRange(evt.keyCode) && isInEnglishAlphabetRange(evt.key.charCodeAt(0))) {\n\t            stopEvent(evt);\n\t        } else if (this.config.hotkey === evt.key) {\n\t            this.config.enabled = !this.config.enabled;\n\t            stopEvent(evt);\n\t        }\n\t    };\n\t    GeoKBD.onKeyupHandler = function (evt) {\n\t        var elementConfig = evt.target.GeoKBD;\n\t        if (!this.config.enabled || !elementConfig || !isEventProcessable(evt)) {\n\t            return;\n\t        }\n\t        // Call beforeChange callback\n\t        if (!toCallOrNotToCall(elementConfig.beforeChange, evt)) {\n\t            return;\n\t        }\n\t        stopEvent(evt);\n\t        keypress_1.default(evt);\n\t        // Call afterChange callback\n\t        toCallOrNotToCall(elementConfig.afterChange, evt);\n\t    };\n\t    GeoKBD.registerTheme = function (name, theme) {\n\t        this.themes[name] = theme;\n\t    };\n\t    GeoKBD.import = function (module) {\n\t        switch (module) {\n\t            case 'themes/abstract':\n\t                {\n\t                    return abstract_1.default;\n\t                }\n\t            case 'themes/default':\n\t                {\n\t                    return default_1.default;\n\t                }\n\t        }\n\t        return undefined;\n\t    };\n\t    GeoKBD.initializeTheme = function () {\n\t        var themeClass = this.themes[this.config.theme];\n\t        if (typeof themeClass !== 'function') {\n\t            warn(\"Can't instantiate theme.\");\n\t            return;\n\t        }\n\t        var theme = new themeClass(this.config);\n\t        if (!(theme instanceof abstract_1.default)) {\n\t            warn(\"Theme doesn't extend AbstractTheme\");\n\t            return;\n\t        } else {\n\t            this.activeTheme = theme;\n\t        }\n\t    };\n\t    return GeoKBD;\n\t}();\n\tGeoKBD.themes = {};\n\tGeoKBD.config = defaults_1.DEFAULT_CONFIG;\n\tGeoKBD.shadowConfig = {};\n\tGeoKBD.initialized = false;\n\tfunction warn(message) {\n\t    console.warn('[geokbd] - ' + message);\n\t}\n\tfunction toCallOrNotToCall(fn) {\n\t    var args = [];\n\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t        args[_i - 1] = arguments[_i];\n\t    }\n\t    if (typeof fn === 'function') {\n\t        return fn.apply(null, args) === false ? false : true;\n\t    }\n\t    return true;\n\t}\n\tfunction isEventProcessable(evt) {\n\t    return !(isSpecialKeyPressed(evt) || !isInEnglishAlphabetRange(evt.keyCode) || !isInEnglishAlphabetRange(evt.key.charCodeAt(0)));\n\t}\n\tfunction isSpecialKeyPressed(evt) {\n\t    return evt.metaKey || evt.ctrlKey || evt.altKey;\n\t}\n\tfunction isInEnglishAlphabetRange(charCode) {\n\t    return charCode >= 65 && charCode <= 90 || charCode >= 97 && charCode <= 122;\n\t}\n\tfunction stopEvent(evt) {\n\t    evt.preventDefault();\n\t}\n\tfunction mergeWithDefaultConfig(mergeFrom) {\n\t    var merged = Object.keys(defaults_1.DEFAULT_CONFIG).reduce(function (mergedConfig, propName) {\n\t        mergedConfig[propName] = mergeFrom.hasOwnProperty(propName) ? mergeFrom[propName] : defaults_1.DEFAULT_CONFIG[propName];\n\t        return mergedConfig;\n\t    }, {});\n\t    return merged;\n\t}\n\tmodule.exports = GeoKBD;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.DEFAULT_THEME = 'default';\n\texports.DEFAULT_HOTKEY = '~';\n\texports.DEFAULT_ENABLED = true;\n\texports.DEFAULT_CONFIG = {\n\t    theme: exports.DEFAULT_THEME,\n\t    hotkey: exports.DEFAULT_HOTKEY,\n\t    enabled: exports.DEFAULT_ENABLED\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar AbstractTheme = function () {\n\t    function AbstractTheme(config) {}\n\t    return AbstractTheme;\n\t}();\n\texports.default = AbstractTheme;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar __extends = undefined && undefined.__extends || function () {\n\t    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n\t        d.__proto__ = b;\n\t    } || function (d, b) {\n\t        for (var p in b) {\n\t            if (b.hasOwnProperty(p)) d[p] = b[p];\n\t        }\n\t    };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() {\n\t            this.constructor = d;\n\t        }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t}();\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar abstract_1 = __webpack_require__(2);\n\tvar TEXT_ENABLED = 'ჩართულია';\n\tvar TEXT_DISABLED = 'გამორთულია';\n\tvar CLASSNAME = 'geokbd--statusMessage';\n\tvar CLASSNAME_STATE = CLASSNAME + '-state';\n\tvar CLASSNAME_HOTKEY = CLASSNAME + '-hotkey';\n\tvar CLASSNAME_HIDDEN = CLASSNAME + ' geokbd--hidden';\n\tvar CLASSNAME_VISIBLE = CLASSNAME + ' geokbd--visible';\n\tvar TEMPLATE = ['<div class=\"' + CLASSNAME + '-text\">', 'ქართული კლავიატურა: <u class=\"' + CLASSNAME_STATE + '\"></u><br>', 'ჩართვა/გამორთვა კლავიშით (\\'<span class=\"' + CLASSNAME_HOTKEY + '\"></span>\\')', '</div>'].join('');\n\tvar DefaultTheme = function (_super) {\n\t    __extends(DefaultTheme, _super);\n\t    function DefaultTheme(config) {\n\t        var _this = _super.call(this, config) || this;\n\t        _this.setVisibility = debounce(function (isVisible) {\n\t            if (this.root instanceof Element) {\n\t                this.root.className = isVisible ? CLASSNAME_VISIBLE : CLASSNAME_HIDDEN;\n\t            }\n\t        }, 100);\n\t        _this.handleFocusEvent = _this.handleFocusEvent.bind(_this);\n\t        _this.handleBlurEvent = _this.handleBlurEvent.bind(_this);\n\t        _this.root = createDivWithHtml(TEMPLATE);\n\t        _this.state = _this.root.querySelector('.' + CLASSNAME_STATE);\n\t        _this.hotkey = _this.root.querySelector('.' + CLASSNAME_HOTKEY);\n\t        _this.root.className = CLASSNAME;\n\t        _this.setHotkeyText(config.hotkey);\n\t        _this.setEnabledText(config.enabled);\n\t        document.body.appendChild(_this.root);\n\t        return _this;\n\t    }\n\t    DefaultTheme.prototype.onAttach = function (target) {\n\t        target.addEventListener('focus', this.handleFocusEvent);\n\t        target.addEventListener('blur', this.handleBlurEvent);\n\t    };\n\t    DefaultTheme.prototype.onConfigurationChange = function (config) {\n\t        this.setHotkeyText(config.hotkey);\n\t        this.setEnabledText(config.enabled);\n\t    };\n\t    DefaultTheme.prototype.onDetach = function (target) {\n\t        target.removeEventListener('focus', this.handleFocusEvent);\n\t        target.removeEventListener('blur', this.handleBlurEvent);\n\t    };\n\t    DefaultTheme.prototype.onDestroy = function () {\n\t        if (this.root instanceof Element) {\n\t            this.root.remove();\n\t        }\n\t        this.root = undefined;\n\t        this.state = undefined;\n\t        this.hotkey = undefined;\n\t    };\n\t    DefaultTheme.prototype.handleFocusEvent = function () {\n\t        this.setVisibility(true);\n\t    };\n\t    DefaultTheme.prototype.handleBlurEvent = function () {\n\t        this.setVisibility(false);\n\t    };\n\t    DefaultTheme.prototype.setHotkeyText = function (hotkey) {\n\t        if (this.hotkey instanceof Element) {\n\t            this.hotkey.innerHTML = hotkey;\n\t        }\n\t    };\n\t    DefaultTheme.prototype.setEnabledText = function (isEnabled) {\n\t        if (this.state instanceof Element) {\n\t            this.state.innerHTML = isEnabled ? TEXT_ENABLED : TEXT_DISABLED;\n\t        }\n\t    };\n\t    return DefaultTheme;\n\t}(abstract_1.default);\n\tfunction createDivWithHtml(html) {\n\t    var el;\n\t    el = document.createElement('div');\n\t    el.innerHTML = html;\n\t    return el;\n\t}\n\tfunction debounce(fn, wait) {\n\t    var timeout;\n\t    return function () {\n\t        var context = this;\n\t        var args = arguments;\n\t        var later = function later() {\n\t            fn.apply(context, args);\n\t        };\n\t        clearTimeout(timeout);\n\t        timeout = setTimeout(later, wait);\n\t    };\n\t}\n\texports.default = DefaultTheme;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar ALPHABET = 'abgdevzTiklmnopJrstufqRySCcZwWxjh';\n\tvar BASE_INDEX = 4304;\n\tfunction convertChar(charIndex) {\n\t    var char = String.fromCharCode(charIndex);\n\t    if (ALPHABET.indexOf(char) >= 0) {\n\t        return BASE_INDEX + ALPHABET.indexOf(char);\n\t    }\n\t    return charIndex;\n\t}\n\tfunction isSelectionSupported(el) {\n\t    return typeof el.selectionStart === 'number' && typeof el.selectionEnd === 'number';\n\t}\n\tfunction getInputSelection(el) {\n\t    var start = 0;\n\t    var end = 0;\n\t    if (isSelectionSupported(el)) {\n\t        start = el.selectionStart;\n\t        end = el.selectionEnd;\n\t    }\n\t    return { start: start, end: end };\n\t}\n\tfunction setInputSelection(el, offset) {\n\t    if (isSelectionSupported(el)) {\n\t        el.selectionStart = offset.start;\n\t        el.selectionEnd = offset.end;\n\t    }\n\t    // A little 'hack' to keep natural browser behavior while typing\n\t    el.blur();\n\t    el.focus();\n\t}\n\tfunction dispatchCustomKeypressEvent(evt, charCode) {\n\t    var customEvent = new KeyboardEvent('keypress', {\n\t        key: String.fromCharCode(charCode),\n\t        // keyCode: charCode,\n\t        // charCode: charCode,\n\t        code: evt.code,\n\t        location: evt.location,\n\t        repeat: evt.repeat\n\t    });\n\t    evt.target.dispatchEvent(customEvent);\n\t}\n\tfunction handleKeypress(evt) {\n\t    var el = evt.target;\n\t    var charCode = evt.key.charCodeAt(0);\n\t    var mappedCharCode = convertChar(charCode);\n\t    // Don't take any action if conversion didn't happen\n\t    if (charCode === mappedCharCode) {\n\t        return;\n\t    }\n\t    // Insert converted char\n\t    var sel = getInputSelection(el);\n\t    var val = el.value;\n\t    el.value = val.slice(0, sel.start) + String.fromCharCode(mappedCharCode) + val.slice(sel.end);\n\t    // Move caret to correct position\n\t    setInputSelection(el, { start: sel.start + 1, end: sel.start + 1 });\n\t    dispatchCustomKeypressEvent(evt, mappedCharCode);\n\t}\n\texports.default = handleKeypress;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** geokbd.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4605bf7088516196bc8a\n **/","\"use strict\";\nvar defaults_1 = require(\"./defaults\");\nvar abstract_1 = require(\"./themes/abstract\");\nvar default_1 = require(\"./themes/default\");\nvar keypress_1 = require(\"./keypress\");\nvar GeoKBD = (function () {\n    function GeoKBD() {\n    }\n    GeoKBD.initialize = function (config) {\n        if (config === void 0) { config = {}; }\n        this.createReactiveConfig(mergeWithDefaultConfig(config));\n        this.registerDefaultThemeIfRequired();\n        this.initializeTheme();\n        this.onKeydownHandler = this.onKeydownHandler.bind(this);\n        this.onKeyupHandler = this.onKeyupHandler.bind(this);\n        this.initialized = true;\n    };\n    GeoKBD.attach = function (target, config) {\n        if (!this.initialized) {\n            warn(\"attach() can't be called until initialize().\");\n            return;\n        }\n        if (!(target instanceof HTMLInputElement) &&\n            !(target instanceof HTMLTextAreaElement)) {\n            warn('only works for <input> and <textarea> elements.');\n            return;\n        }\n        target.GeoKBD = config;\n        target.addEventListener('keydown', this.onKeydownHandler);\n        target.addEventListener('keyup', this.onKeyupHandler);\n        if (GeoKBD.activeTheme) {\n            GeoKBD.activeTheme.onAttach(target);\n        }\n    };\n    GeoKBD.detach = function (target) {\n        delete target.GeoKBD;\n        target.removeEventListener('keydown', this.onKeydownHandler);\n        target.removeEventListener('keyup', this.onKeyupHandler);\n        if (GeoKBD.activeTheme) {\n            GeoKBD.activeTheme.onDetach(target);\n        }\n    };\n    GeoKBD.createReactiveConfig = function (config) {\n        var _this = this;\n        this.shadowConfig = config;\n        Object.keys(defaults_1.DEFAULT_CONFIG).forEach(function (propName) {\n            Object.defineProperty(_this.config, propName, {\n                get: function () {\n                    return GeoKBD.shadowConfig[propName];\n                },\n                set: function (newValue) {\n                    GeoKBD.shadowConfig[propName] = newValue;\n                    if (GeoKBD.activeTheme instanceof abstract_1.default) {\n                        GeoKBD.activeTheme.onConfigurationChange(GeoKBD.config);\n                    }\n                }\n            });\n        });\n    };\n    GeoKBD.registerDefaultThemeIfRequired = function () {\n        if (this.config.theme === 'default') {\n            this.registerTheme('default', default_1.default);\n        }\n    };\n    GeoKBD.onKeydownHandler = function (evt) {\n        if (isSpecialKeyPressed(evt)) {\n            return;\n        }\n        if (this.config.enabled &&\n            isInEnglishAlphabetRange(evt.keyCode) &&\n            isInEnglishAlphabetRange(evt.key.charCodeAt(0))) {\n            stopEvent(evt);\n        }\n        else if (this.config.hotkey === evt.key) {\n            this.config.enabled = !this.config.enabled;\n            stopEvent(evt);\n        }\n    };\n    GeoKBD.onKeyupHandler = function (evt) {\n        var elementConfig = evt.target.GeoKBD;\n        if (!this.config.enabled || !elementConfig || !isEventProcessable(evt)) {\n            return;\n        }\n        // Call beforeChange callback\n        if (!toCallOrNotToCall(elementConfig.beforeChange, evt)) {\n            return;\n        }\n        stopEvent(evt);\n        keypress_1.default(evt);\n        // Call afterChange callback\n        toCallOrNotToCall(elementConfig.afterChange, evt);\n    };\n    GeoKBD.registerTheme = function (name, theme) {\n        this.themes[name] = theme;\n    };\n    GeoKBD.import = function (module) {\n        switch (module) {\n            case 'themes/abstract': {\n                return abstract_1.default;\n            }\n            case 'themes/default': {\n                return default_1.default;\n            }\n        }\n        return undefined;\n    };\n    GeoKBD.initializeTheme = function () {\n        var themeClass = this.themes[this.config.theme];\n        if (typeof themeClass !== 'function') {\n            warn(\"Can't instantiate theme.\");\n            return;\n        }\n        var theme = new themeClass(this.config);\n        if (!(theme instanceof abstract_1.default)) {\n            warn(\"Theme doesn't extend AbstractTheme\");\n            return;\n        }\n        else {\n            this.activeTheme = theme;\n        }\n    };\n    return GeoKBD;\n}());\nGeoKBD.themes = {};\nGeoKBD.config = defaults_1.DEFAULT_CONFIG;\nGeoKBD.shadowConfig = {};\nGeoKBD.initialized = false;\nfunction warn(message) {\n    console.warn('[geokbd] - ' + message);\n}\nfunction toCallOrNotToCall(fn) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (typeof fn === 'function') {\n        return fn.apply(null, args) === false ? false : true;\n    }\n    return true;\n}\nfunction isEventProcessable(evt) {\n    return !(isSpecialKeyPressed(evt) ||\n        !isInEnglishAlphabetRange(evt.keyCode) ||\n        !isInEnglishAlphabetRange(evt.key.charCodeAt(0)));\n}\nfunction isSpecialKeyPressed(evt) {\n    return evt.metaKey || evt.ctrlKey || evt.altKey;\n}\nfunction isInEnglishAlphabetRange(charCode) {\n    return ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122));\n}\nfunction stopEvent(evt) {\n    evt.preventDefault();\n}\nfunction mergeWithDefaultConfig(mergeFrom) {\n    var merged = Object.keys(defaults_1.DEFAULT_CONFIG).reduce(function (mergedConfig, propName) {\n        mergedConfig[propName] = mergeFrom.hasOwnProperty(propName)\n            ? mergeFrom[propName]\n            : defaults_1.DEFAULT_CONFIG[propName];\n        return mergedConfig;\n    }, {});\n    return merged;\n}\nmodule.exports = GeoKBD;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/index.ts\n **/","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_THEME = 'default';\nexports.DEFAULT_HOTKEY = '~';\nexports.DEFAULT_ENABLED = true;\nexports.DEFAULT_CONFIG = {\n    theme: exports.DEFAULT_THEME,\n    hotkey: exports.DEFAULT_HOTKEY,\n    enabled: exports.DEFAULT_ENABLED\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/defaults.ts\n **/","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AbstractTheme = (function () {\n    function AbstractTheme(config) {\n    }\n    return AbstractTheme;\n}());\nexports.default = AbstractTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/themes/abstract.ts\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar abstract_1 = require(\"./abstract\");\nvar TEXT_ENABLED = 'ჩართულია';\nvar TEXT_DISABLED = 'გამორთულია';\nvar CLASSNAME = 'geokbd--statusMessage';\nvar CLASSNAME_STATE = CLASSNAME + '-state';\nvar CLASSNAME_HOTKEY = CLASSNAME + '-hotkey';\nvar CLASSNAME_HIDDEN = CLASSNAME + ' geokbd--hidden';\nvar CLASSNAME_VISIBLE = CLASSNAME + ' geokbd--visible';\nvar TEMPLATE = [\n    '<div class=\"' + CLASSNAME + '-text\">',\n    'ქართული კლავიატურა: <u class=\"' + CLASSNAME_STATE + '\"></u><br>',\n    'ჩართვა/გამორთვა კლავიშით (\\'<span class=\"' +\n        CLASSNAME_HOTKEY +\n        '\"></span>\\')',\n    '</div>'\n].join('');\nvar DefaultTheme = (function (_super) {\n    __extends(DefaultTheme, _super);\n    function DefaultTheme(config) {\n        var _this = _super.call(this, config) || this;\n        _this.setVisibility = debounce(function (isVisible) {\n            if (this.root instanceof Element) {\n                this.root.className = isVisible ? CLASSNAME_VISIBLE : CLASSNAME_HIDDEN;\n            }\n        }, 100);\n        _this.handleFocusEvent = _this.handleFocusEvent.bind(_this);\n        _this.handleBlurEvent = _this.handleBlurEvent.bind(_this);\n        _this.root = createDivWithHtml(TEMPLATE);\n        _this.state = _this.root.querySelector('.' + CLASSNAME_STATE);\n        _this.hotkey = _this.root.querySelector('.' + CLASSNAME_HOTKEY);\n        _this.root.className = CLASSNAME;\n        _this.setHotkeyText(config.hotkey);\n        _this.setEnabledText(config.enabled);\n        document.body.appendChild(_this.root);\n        return _this;\n    }\n    DefaultTheme.prototype.onAttach = function (target) {\n        target.addEventListener('focus', this.handleFocusEvent);\n        target.addEventListener('blur', this.handleBlurEvent);\n    };\n    DefaultTheme.prototype.onConfigurationChange = function (config) {\n        this.setHotkeyText(config.hotkey);\n        this.setEnabledText(config.enabled);\n    };\n    DefaultTheme.prototype.onDetach = function (target) {\n        target.removeEventListener('focus', this.handleFocusEvent);\n        target.removeEventListener('blur', this.handleBlurEvent);\n    };\n    DefaultTheme.prototype.onDestroy = function () {\n        if (this.root instanceof Element) {\n            this.root.remove();\n        }\n        this.root = undefined;\n        this.state = undefined;\n        this.hotkey = undefined;\n    };\n    DefaultTheme.prototype.handleFocusEvent = function () {\n        this.setVisibility(true);\n    };\n    DefaultTheme.prototype.handleBlurEvent = function () {\n        this.setVisibility(false);\n    };\n    DefaultTheme.prototype.setHotkeyText = function (hotkey) {\n        if (this.hotkey instanceof Element) {\n            this.hotkey.innerHTML = hotkey;\n        }\n    };\n    DefaultTheme.prototype.setEnabledText = function (isEnabled) {\n        if (this.state instanceof Element) {\n            this.state.innerHTML = isEnabled ? TEXT_ENABLED : TEXT_DISABLED;\n        }\n    };\n    return DefaultTheme;\n}(abstract_1.default));\nfunction createDivWithHtml(html) {\n    var el;\n    el = document.createElement('div');\n    el.innerHTML = html;\n    return el;\n}\nfunction debounce(fn, wait) {\n    var timeout;\n    return function () {\n        var context = this;\n        var args = arguments;\n        var later = function () {\n            fn.apply(context, args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\nexports.default = DefaultTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/themes/default.ts\n **/","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ALPHABET = 'abgdevzTiklmnopJrstufqRySCcZwWxjh';\nvar BASE_INDEX = 4304;\nfunction convertChar(charIndex) {\n    var char = String.fromCharCode(charIndex);\n    if (ALPHABET.indexOf(char) >= 0) {\n        return BASE_INDEX + ALPHABET.indexOf(char);\n    }\n    return charIndex;\n}\nfunction isSelectionSupported(el) {\n    return (typeof el.selectionStart === 'number' && typeof el.selectionEnd === 'number');\n}\nfunction getInputSelection(el) {\n    var start = 0;\n    var end = 0;\n    if (isSelectionSupported(el)) {\n        start = el.selectionStart;\n        end = el.selectionEnd;\n    }\n    return { start: start, end: end };\n}\nfunction setInputSelection(el, offset) {\n    if (isSelectionSupported(el)) {\n        el.selectionStart = offset.start;\n        el.selectionEnd = offset.end;\n    }\n    // A little 'hack' to keep natural browser behavior while typing\n    el.blur();\n    el.focus();\n}\nfunction dispatchCustomKeypressEvent(evt, charCode) {\n    var customEvent = new KeyboardEvent('keypress', {\n        key: String.fromCharCode(charCode),\n        // keyCode: charCode,\n        // charCode: charCode,\n        code: evt.code,\n        location: evt.location,\n        repeat: evt.repeat\n    });\n    evt.target.dispatchEvent(customEvent);\n}\nfunction handleKeypress(evt) {\n    var el = evt.target;\n    var charCode = evt.key.charCodeAt(0);\n    var mappedCharCode = convertChar(charCode);\n    // Don't take any action if conversion didn't happen\n    if (charCode === mappedCharCode) {\n        return;\n    }\n    // Insert converted char\n    var sel = getInputSelection(el);\n    var val = el.value;\n    el.value =\n        val.slice(0, sel.start) +\n            String.fromCharCode(mappedCharCode) +\n            val.slice(sel.end);\n    // Move caret to correct position\n    setInputSelection(el, { start: sel.start + 1, end: sel.start + 1 });\n    dispatchCustomKeypressEvent(evt, mappedCharCode);\n}\nexports.default = handleKeypress;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/keypress.ts\n **/"],"sourceRoot":""}